# Video Motion Analyzer

Интерактивное настольное приложение на Qt и OpenCV для анализа видео в реальном времени, визуализации FPS и мониторинга активности движения.

## О проекте

Приложение объединяет Qt Widgets, модуль Qt Charts и OpenCV 4, чтобы выводить поток с веб-камеры или из файла в двух окнах: оригинальное изображение и обработанный кадр с подсветкой движущихся объектов. Для каждой сессии ведётся график кадров в секунду и график уровня движения.

Проект оформлен в стиле классического Qt-приложения: основная логика управления интерфейсом находится в `MainWindow`, обработка кадров вынесена в отдельный поток `VideoProcessor`, а источники данных абстрагированы через фабрику `FactoryUI`.

## Основные возможности

- Захват видео из веб-камеры или загрузка локальных файлов (`.mp4`, `.avi` и др.).
- Параллельная обработка кадров с помощью OpenCV BackgroundSubtractorKNN и подсветка областей движения.
- Два независимых графика на Qt Charts: актуальный FPS и уровень движения.
- Управление воспроизведением: старт, пауза, стоп, быстрое переключение источника.
- Переключатель отображения контуров движения без прерывания обработки.

## Главное меню

## Интерфейс

- **Главные окна**: слева оригинальный поток, справа — обработанное изображение.
- **Переключатель источника**: `Камера` или `Из файла`, с контекстными панелями управления.
- **Панель действия**: кнопки запуска, паузы, остановки, выбора файла.
- **Дополнительные элементы**: чекбокс «Отображать движение» и кнопка «Сброс графика» — перезапускают сбор статистики.
- **Графики**: `FramePlotWidget` и `MotionPlotWidget` строят скользящие окна длиной ~10 секунд.



## Быстрый старт

### Требования

- Qt 5.15+ или Qt 6 с модулями Widgets, Concurrent, Charts.
- OpenCV 4 с поддержкой VideoIO.
- C++17 совместимый компилятор.

## Структура проекта

- `main.cpp` — точка входа и запуск GUI.
- `mainwindow.*` — базовая логика интерфейса, управление потоками и графиками.
- `videoprocessor.*` — обработка кадров в отдельном потоке, подсветка движений.
- `factoryui.*`, `fromcamui.*`, `fromfileui.*`, `abstractui.*` — абстракция источников видео.
- `frameplotwidget.*`, `motionplotwidget.*`, `fpscollector.*` — визуализация и сбор статистики.
- `Resources/` — изображения и тестовое видео.



